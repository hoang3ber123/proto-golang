syntax = "proto3";
package order;
option go_package = "github.com/hoang3ber123/proto-golang/order;orderproto";

// The greeting service definition.
service OrderService {
  // create payment
  rpc CreateOrder (CreateOrderRequest) returns (CreateOrderResponse) {}
  // get bought product of user
  rpc GetBoughtProductIDs (GetBoughtProductIDsRequest) returns (GetBoughtProductIDsResponse) {}
  // check bought product of user
  rpc CheckBoughtProduct (CheckBoughtProductRequest) returns (CheckBoughtProductResponse) {}
}

// CreateOrderRequest message
message CreateOrderRequest {
    string transaction_id = 1;
    string payment_method = 2;
}

// CreateOrderResponse message
message CreateOrderResponse {
    bool is_created = 1;
    int32 status_code = 2;
    string error = 3;
}

// GetBoughtProductIDsRequest message
message GetBoughtProductIDsRequest {
    string order_id = 1;
    string user_id = 2;
}

message BoughtProduct {
    string related_id = 1;
    string related_type = 2;
}

// GetBoughtProductIDsResponse message
message GetBoughtProductIDsResponse {
    repeated BoughtProduct products = 1;
    int32 status_code = 2;
    string error = 3;
}

// CheckBoughtProductRequest message
message CheckBoughtProductRequest {
    string user_id = 1;
    string related_id = 2;
    string related_type = 3;
}

// CheckBoughtProductResponse message
message CheckBoughtProductResponse {
    bool is_bought = 1;
    int32 status_code = 2;
    string error = 3;
}